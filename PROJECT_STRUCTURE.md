# ๐ ูููู ุงููุดุฑูุน - Project Structure

## ูุธุฑุฉ ุนุงูุฉ

```
telegram_radio_bot/
โ
โโโ ๐ bot.py                  # ุงูููู ุงูุฑุฆูุณู ููุจูุช
โโโ ๐ config.py               # ููู ุงูุฅุนุฏุงุฏุงุช
โโโ ๐ database.py             # ูุธุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ ๐ radio_manager.py        # ูุฏูุฑ ุชุดุบูู ุงูุฑุงุฏูู
โโโ ๐ generate_session.py     # ูููุฏ Session String
โ
โโโ ๐ requirements.txt        # ูุชุทูุจุงุช Python
โโโ ๐ .env.example           # ูุซุงู ููู ุงูุฅุนุฏุงุฏุงุช
โโโ ๐ .gitignore             # ูููุงุช Git ุงููุณุชุจุนุฏุฉ
โ
โโโ ๐ README.md              # ุฏููู ูุงูู
โโโ ๐ QUICK_SETUP.md         # ุฏููู ุงูุฅุนุฏุงุฏ ุงูุณุฑูุน
โ
โโโ ๐ง start.sh               # ุณูุฑูุจุช ุงูุชุดุบูู
โโโ ๐ง radio-bot.service      # ููู ุฎุฏูุฉ Systemd
โ
โโโ ๐ downloads/             # ูุฌูุฏ ุงูุฃุบุงูู ุงููุญููุฉ
โโโ ๐ logs/                  # ูุฌูุฏ ุงูุณุฌูุงุช
โโโ ๐ venv/                  # ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
```

---

## ๐ ูุตู ุงููููุงุช

### bot.py
**ุงููุธููุฉ:** ุงูููู ุงูุฑุฆูุณู ููุจูุช
**ุงููุญุชูู:**
- ูุนุงูุฌุฉ ุฃูุงูุฑ ุงููุณุชุฎุฏููู
- ุงูุชูุงุนู ูุน ุชููุฌุฑุงู
- ุฅุฏุงุฑุฉ ุงููุฌููุนุงุช ูุงููููุงุช
- ุงูุชุญูู ูู ุงูุชุดุบูู (play, pause, stop, skip)

**ุงูุฃูุงูุฑ ุงููุชุงุญุฉ:**
```python
/start      # ุงูุจุฏุก
/activate   # ุชูุนูู ุงูุฑุงุฏูู
/play       # ุชุดุบูู
/pause      # ุฅููุงู ูุคูุช
/resume     # ุงุณุชุฆูุงู
/skip       # ุชุฎุทู
/stop       # ุฅููุงู
/add        # ุฅุถุงูุฉ ุฃุบููุฉ
/playlist   # ุนุฑุถ ุงููุงุฆูุฉ
/remove     # ุญุฐู ุฃุบููุฉ
/shuffle    # ุฎูุท ุงููุงุฆูุฉ
/status     # ุงูุญุงูุฉ
/autoplay   # ุงูุชุดุบูู ุงูุชููุงุฆู
```

### config.py
**ุงููุธููุฉ:** ุฅุนุฏุงุฏุงุช ุงูุจูุช
**ุงููุญุชูู:**
- ูุนูููุงุช API ุชููุฌุฑุงู
- ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฅุนุฏุงุฏุงุช ุงูุชุญููู ูุงูุชุดุบูู
- ุตูุงุญูุงุช ุงููุทูุฑูู

**ุงููุชุบูุฑุงุช ุงูุฃุณุงุณูุฉ:**
```python
API_ID           # ูุนุฑู API
API_HASH         # ููุชุงุญ API Hash
BOT_TOKEN        # ุชููู ุงูุจูุช
SESSION_STRING   # ุฌูุณุฉ ุงูุญุณุงุจ ุงููุณุงุนุฏ
DOWNLOAD_FOLDER  # ูุฌูุฏ ุงูุชุญูููุงุช
MAX_FILE_SIZE    # ุงูุญุฏ ุงูุฃูุตู ูุญุฌู ุงูููู
AUDIO_QUALITY    # ุฌูุฏุฉ ุงูุตูุช
```

### database.py
**ุงููุธููุฉ:** ูุธุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุงููุญุชูู:**
- ุฅูุดุงุก ูุฅุฏุงุฑุฉ ุงูุฌุฏุงูู
- ุญูุธ ูุงุณุชุฑุฌุงุน ุงูุฃุบุงูู
- ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุชุดุบูู
- ุงูุฅุญุตุงุฆูุงุช

**ุงูุฌุฏุงูู:**
```sql
chats              # ุงููุฌููุนุงุช/ุงููููุงุช
songs              # ุงูุฃุบุงูู
playback_state     # ุญุงูุฉ ุงูุชุดุบูู
statistics         # ุงูุฅุญุตุงุฆูุงุช
```

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ:**
```python
add_chat()           # ุฅุถุงูุฉ ูุฌููุนุฉ
add_song()           # ุฅุถุงูุฉ ุฃุบููุฉ
get_playlist()       # ุงูุญุตูู ุนูู ุงููุงุฆูุฉ
get_next_song()      # ุงูุฃุบููุฉ ุงูุชุงููุฉ
set_playing()        # ุชุนููู ุญุงูุฉ ุงูุชุดุบูู
shuffle_playlist()   # ุฎูุท ุงููุงุฆูุฉ
```

### radio_manager.py
**ุงููุธููุฉ:** ูุฏูุฑ ุชุดุบูู ุงูุฑุงุฏูู
**ุงููุญุชูู:**
- ุฅุฏุงุฑุฉ ุงูููุงููุงุช ุงูุตูุชูุฉ
- ุชุดุบูู ุงูุฃุบุงูู
- ุงูุชุญูู ูู ุงูุชุดุบูู
- ุงูุชุญููู ูู ููุชููุจ/ุณุงููุฏ ููุงูุฏ
- ุงูุชุดุบูู ุงูุชููุงุฆู ุงููุณุชูุฑ

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ:**
```python
start_playing()        # ุจุฏุก ุงูุชุดุบูู
pause()               # ุฅููุงู ูุคูุช
resume()              # ุงุณุชุฆูุงู
skip()                # ุชุฎุทู
stop()                # ุฅููุงู
add_song_from_url()   # ุฅุถุงูุฉ ูู ุฑุงุจุท
add_song_from_file()  # ุฅุถุงูุฉ ูู ููู
auto_player_loop()    # ุญููุฉ ุงูุชุดุบูู ุงูุชููุงุฆู
```

### generate_session.py
**ุงููุธููุฉ:** ุฅูุดุงุก Session String
**ุงูุงุณุชุฎุฏุงู:**
```bash
python generate_session.py
```
**ุงูุฎุทูุงุช:**
1. ุฅุฏุฎุงู API ID
2. ุฅุฏุฎุงู API Hash
3. ุฅุฏุฎุงู ุฑูู ุงููุงุชู
4. ุฅุฏุฎุงู ุฑูุฒ ุงูุชุญูู
5. ุงูุญุตูู ุนูู Session String

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู chats
```sql
chat_id          INTEGER PRIMARY KEY
chat_title       TEXT
is_active        BOOLEAN
autoplay         BOOLEAN
added_date       TIMESTAMP
total_plays      INTEGER
```

### ุฌุฏูู songs
```sql
id              INTEGER PRIMARY KEY
chat_id         INTEGER
title           TEXT
file_id         TEXT
file_path       TEXT
duration        INTEGER
artist          TEXT
source_type     TEXT (file/url)
source_url      TEXT
added_by        INTEGER
added_date      TIMESTAMP
play_count      INTEGER
```

### ุฌุฏูู playback_state
```sql
chat_id           INTEGER PRIMARY KEY
current_song_id   INTEGER
is_playing        BOOLEAN
is_paused         BOOLEAN
position          INTEGER
last_update       TIMESTAMP
```

### ุฌุฏูู statistics
```sql
id              INTEGER PRIMARY KEY
chat_id         INTEGER
song_id         INTEGER
played_at       TIMESTAMP
completed       BOOLEAN
```

---

## ๐ ุณูุฑ ุงูุนูู (Workflow)

### 1. ุชูุนูู ุงูุฑุงุฏูู
```
ุงููุณุชุฎุฏู ูุฑุณู /activate
  โ
ุงูุจูุช ูุถูู ุงููุฌููุนุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช
  โ
ุงูุจูุช ูุฑุณู ุฑุณุงูุฉ ุชุฃููุฏ
```

### 2. ุฅุถุงูุฉ ุฃุบููุฉ ูู ุฑุงุจุท
```
ุงููุณุชุฎุฏู ูุฑุณู /add [ุฑุงุจุท]
  โ
radio_manager ูุญูู ุงูุฃุบููุฉ ูู ููุชููุจ/ุณุงููุฏ ููุงูุฏ
  โ
database ูุญูุธ ูุนูููุงุช ุงูุฃุบููุฉ
  โ
ุงูุจูุช ูุฑุณู ุฑุณุงูุฉ ุชุฃููุฏ
```

### 3. ุฅุถุงูุฉ ุฃุบููุฉ ูู ููู
```
ุงููุณุชุฎุฏู ูุฑูุน ููู ุตูุชู
  โ
ุงููุณุชุฎุฏู ูุฑุฏ ุนูู ุงูููู ุจู /add
  โ
radio_manager ูุญูุธ ุงูููู
  โ
database ูุญูุธ ูุนูููุงุช ุงูููู
  โ
ุงูุจูุช ูุฑุณู ุฑุณุงูุฉ ุชุฃููุฏ
```

### 4. ุจุฏุก ุงูุชุดุบูู
```
ุงููุณุชุฎุฏู ูุฑุณู /play
  โ
radio_manager ููุถู ููููุงููุฉ ุงูุตูุชูุฉ
  โ
database ูุญุตู ุนูู ุงูุฃุบููุฉ ุงูุชุงููุฉ
  โ
radio_manager ูุดุบู ุงูุฃุบููุฉ
  โ
database ูุญุฏุซ ุญุงูุฉ ุงูุชุดุบูู
  โ
ุงูุจูุช ูุฑุณู ุฑุณุงูุฉ ุจุชูุงุตูู ุงูุชุดุบูู
```

### 5. ุงูุชุดุบูู ุงูุชููุงุฆู
```
auto_player_loop ุชุนูู ุจุงุณุชูุฑุงุฑ ูู 10 ุซูุงูู
  โ
ุชูุญุต ุฌููุน ุงููุฌููุนุงุช ุงููุดุทุฉ
  โ
ุฅุฐุง ูุงู autoplay ููุนู ููุงุฆูุฉ ุงูุชุดุบูู ูุงุฑุบุฉ
  โ
ุชุจุฏุฃ ุงูุชุดุบูู ูู ุงูุฃุบููุฉ ุงูุฃููู
  โ
ุนูุฏ ุงูุชูุงุก ุงูุฃุบููุฉุ ุชุดุบู ุงูุชุงููุฉ
  โ
ุนูุฏ ุงูุชูุงุก ุงููุงุฆูุฉุ ุชุนูุฏ ุงูุชุดุบูู ูู ุงูุจุฏุงูุฉ
```

---

## ๐ฏ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### โ ุชู ุงูุชูููุฐ:

1. **ุงูุจูุช ุงูุฃุณุงุณู:**
   - ูุนุงูุฌุฉ ุงูุฃูุงูุฑ
   - ุฅุฏุงุฑุฉ ุงููุฌููุนุงุช
   - ูุธุงู ุงูุตูุงุญูุงุช

2. **ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   - SQLite
   - ุญูุธ ุงูุฃุบุงูู
   - ุญุงูุฉ ุงูุชุดุบูู
   - ุงูุฅุญุตุงุฆูุงุช

3. **ุฅุฏุงุฑุฉ ุงูุฃุบุงูู:**
   - ุฅุถุงูุฉ ูู ุฑูุงุจุท
   - ุฅุถุงูุฉ ูู ูููุงุช
   - ุญุฐู ุงูุฃุบุงูู
   - ุฎูุท ุงููุงุฆูุฉ

4. **ุงูุชุดุบูู:**
   - ุชุดุบูู/ุฅููุงู/ุชุฎุทู
   - ุฅููุงู ูุคูุช/ุงุณุชุฆูุงู
   - ุงูุชุดุบูู ุงูุชููุงุฆู
   - ุฅุนุงุฏุฉ ุงูุชุดุบูู ุนูุฏ ุงูุงูุชูุงุก

5. **ุงููุตุงุฏุฑ ุงููุฏุนููุฉ:**
   - ููุชููุจ
   - ุณุงููุฏ ููุงูุฏ
   - ูููุงุช ูุจุงุดุฑุฉ
   - ุฃู ุฑุงุจุท ูุฏุนูู yt-dlp

---

## ๐๏ธ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุงูุชุฑุงุญุงุช ููุชุญุณูู:

1. **ูุงุฌูุฉ ููุจ:**
   - ููุญุฉ ุชุญูู
   - ุฅุฏุงุฑุฉ ุงูุฃุบุงูู
   - ุงูุฅุญุตุงุฆูุงุช ุงููุฑุฆูุฉ

2. **ูููุฒุงุช ุฅุถุงููุฉ:**
   - ููุงุฆู ุชุดุบูู ูุชุนุฏุฏุฉ
   - ุฌุฏููุฉ ุงูุชุดุบูู
   - ุงูุชุญูู ุจุงูุตูุช
   - Equalizer

3. **ุงูุชูุงูู:**
   - Spotify API
   - Deezer API
   - Apple Music

4. **ุงูุฃุฏุงุก:**
   - ุชุฎุฒูู ูุคูุช ููุฃุบุงูู
   - ุถุบุท ุงููููุงุช
   - ุชุญููู ูุชุนุฏุฏ ุงูุฎููุท

---

## ๐ ูุชุทูุจุงุช ุงููุธุงู

### ุงูุญุฏ ุงูุฃุฏูู:
- CPU: 1 Core
- RAM: 512 MB
- HDD: 10 GB
- Network: 5 Mbps

### ุงูููุตู ุจู:
- CPU: 2 Cores
- RAM: 1-2 GB
- SSD: 20 GB
- Network: 10 Mbps

### ููุงุณุชุฎุฏุงู ุงูููุซู:
- CPU: 4 Cores
- RAM: 4 GB
- SSD: 50 GB
- Network: 20 Mbps

---

## ๐ ุงูุฃูุงู

### ุชู ุชูููุฐู:
- โ Session String ุขูู
- โ ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
- โ ุนุฏู ุญูุธ ูููุงุช ุงููุฑูุฑ
- โ .gitignore ูููููุงุช ุงูุญุณุงุณุฉ

### ูููุตุญ ุจู:
- ๐ SSL/TLS ููุงุชุตุงูุงุช
- ๐ ุชุดููุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ๐ ูุณุฎ ุงุญุชูุงุทู ููุชุธู
- ๐ Firewall rules

---

## ๐ ุงูุชุฑุฎูุต

ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุงุณุชุฎุฏุงู ุงูุชุนูููู ูุงูุดุฎุตู.

---

**ุขุฎุฑ ุชุญุฏูุซ:** ูุจุฑุงูุฑ 2026  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงููุทูุฑ:** AI Assistant
